[phases.setup]
aptPkgs = []

[variables]
NODE_VERSION = "23.3.0"
PNPM_VERSION = "9.14.4"

[phases.install]
cmds = [
    "curl -fsSL https://nodejs.org/dist/v23.3.0/node-v23.3.0-linux-x64.tar.xz -o /tmp/node.tar.xz",
    "tar -xf /tmp/node.tar.xz -C /tmp",
    "cp -r /tmp/node-v23.3.0-linux-x64/* /usr/local",
    "node --version",
    "npm install -g pnpm@9.14.4",
    "pnpm --version",
    "pnpm install --frozen-lockfile"
]

[phases.build]
cmds = ["pnpm run build"]

[start]
cmd = "pnpm start"